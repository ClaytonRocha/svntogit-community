# Maintainer: George Rawlinson <grawlinson@archlinux.org>
# Contributor: Yigit Sever <yigit at yigitsever dot com>
# Contributor: Qontinuum <qontinuum@artixlinux.org>
# Contributor: timetoplatypus <timetoplatypus@protonmail.com>
# Contributor: andychu <andy@oilshell.org>

pkgname=oil
pkgver=0.10.0
pkgrel=1
pkgdesc='A new Unix shell'
arch=('x86_64')
url='https://www.oilshell.org'
license=('Apache')
depends=('readline')
makedepends=('bash')
replaces=('osh')
install=oil.install
options=('!lto' '!strip')
source=("$url/download/$pkgname-$pkgver.tar.xz")
sha512sums=('f3de36a5a93c3bf855219007b4e7dda4be0cbf0ed65926e5572f7a9c381c6b4c13f76ff0e71219cd7d426a7c5d0e47e29f33cd306db7ac4051cf04f6a9931852')
b2sums=('66bb02ebe78f8cf0e7dbcf9a719069310a03eed0ec471f9ace8a2b4d47797bb45ed973661cdf1f319fe62ccad4880cb6a34f8ccfd54440f9acd7de8c27b81887')

build() {
	cd "$pkgname-$pkgver"

	./configure \
    --prefix=/usr \
    --with-readline

	make
}

package() {
	cd "$pkgname-$pkgver"

	make DESTDIR="$pkgdir" install
}
